CREATE DATABASE employee;
USE employee;
CREATE TABLE employee(
	Emp_ID INT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL,
    Salary INT NOT NULL,
    Joining DATE
);
INSERT INTO employee VALUES
(51,"ALI IMRAN",59000,"2025-03-17"),
(52,"NAJEEB KHAN",58000,"2025-04-13"),
(53,"MUSTAFA",64000,"2025-04-19"),
(54,"JAVED IQBAL",57000,"2025-05-24"),
(55,"SAMEER JAFFAR",67000,"2025-05-29"),
(56,"AMREEN ANJUM",54000,"2025-06-04"),
(57,"NOREEN KHAN",63000,"2025-06-11"),
(58,"RAUF AHMAD",69000,"2025-06-18"),
(59,"BASHIR AHMAD",52000,"2025-06-26"),
(60,"SARA ALI",58000,"2025-07-04");
SELECT * FROM employee ORDER BY Salary DESC;
CREATE TABLE department(
	Dept_ID INT PRIMARY KEY,
    Dept_Name VARCHAR(50) NOT NULL
);
INSERT INTO department VALUES
    (501,"IT"),
    (502,"HR"),
    (503,"Management"),
    (504,"Finance");
CREATE TABLE attendance (
    ID INT NOT NULL,
    Emp_ID INT NOT NULL,
    STATUS ENUM('PRESENT', 'ABSENT') NOT NULL,
    Att_Date DATE NOT NULL,
    FOREIGN KEY (Emp_ID) REFERENCES employee(Emp_ID)
);
INSERT INTO attendance (ID, Emp_ID, STATUS, Att_Date) VALUES
-- August 25, 2025
(1, 51, 'PRESENT', '2025-08-25'),
(2, 52, 'ABSENT', '2025-08-25'),
(3, 53, 'PRESENT', '2025-08-25'),
(4, 54, 'ABSENT', '2025-08-25'),
(5, 55, 'PRESENT', '2025-08-25'),
(6, 56, 'ABSENT', '2025-08-25'),
(7, 57, 'PRESENT', '2025-08-25'),
(8, 58, 'ABSENT', '2025-08-25'),
(9, 59, 'PRESENT', '2025-08-25'),
(10, 60, 'ABSENT', '2025-08-25'),
-- August 26, 2025
(11, 51, 'PRESENT', '2025-08-26'),
(12, 52, 'PRESENT', '2025-08-26'),
(13, 53, 'PRESENT', '2025-08-26'),
(14, 54, 'ABSENT', '2025-08-26'),
(15, 55, 'PRESENT', '2025-08-26'),
(16, 56, 'PRESENT', '2025-08-26'),
(17, 57, 'PRESENT', '2025-08-26'),
(18, 58, 'PRESENT', '2025-08-26'),
(19, 59, 'ABSENT', '2025-08-26'),
(20, 60, 'PRESENT', '2025-08-26'),
-- August 27, 2025
(21, 51, 'ABSENT', '2025-08-27'),
(22, 52, 'PRESENT', '2025-08-27'),
(23, 53, 'PRESENT', '2025-08-27'),
(24, 54, 'PRESENT', '2025-08-27'),
(25, 55, 'ABSENT', '2025-08-27'),
(26, 56, 'PRESENT', '2025-08-27'),
(27, 57, 'ABSENT', '2025-08-27'),
(28, 58, 'PRESENT', '2025-08-27'),
(29, 59, 'PRESENT', '2025-08-27'),
(30, 60, 'PRESENT', '2025-08-27'),
-- August 28, 2025
(31, 51, 'PRESENT', '2025-08-28'),
(32, 52, 'PRESENT', '2025-08-28'),
(33, 53, 'ABSENT', '2025-08-28'),
(34, 54, 'PRESENT', '2025-08-28'),
(35, 55, 'PRESENT', '2025-08-28'),
(36, 56, 'PRESENT', '2025-08-28'),
(37, 57, 'PRESENT', '2025-08-28'),
(38, 58, 'ABSENT', '2025-08-28'),
(39, 59, 'PRESENT', '2025-08-28'),
(40, 60, 'ABSENT', '2025-08-28'),
-- August 29, 2025
(41, 51, 'PRESENT', '2025-08-29'),
(42, 52, 'PRESENT', '2025-08-29'),
(43, 53, 'PRESENT', '2025-08-29'),
(44, 54, 'PRESENT', '2025-08-29'),
(45, 55, 'PRESENT', '2025-08-29'),
(46, 56, 'PRESENT', '2025-08-29'),
(47, 57, 'PRESENT', '2025-08-29'),
(48, 58, 'PRESENT', '2025-08-29'),
(49, 59, 'ABSENT', '2025-08-29'),
(50, 60, 'PRESENT', '2025-08-29');
SELECT * FROM employee ORDER BY Salary DESC LIMIT 3;
ALTER TABLE employee ADD Dept_ID INT;
ALTER TABLE employee ADD CONSTRAINT fk_dept
FOREIGN KEY (Dept_ID) REFERENCES department(Dept_ID);
UPDATE employee SET Dept_ID = 501 WHERE Emp_ID IN (51, 52, 53);
UPDATE employee SET Dept_ID = 502 WHERE Emp_ID IN (54, 55);
UPDATE employee SET Dept_ID = 503 WHERE Emp_ID IN (56, 57, 58);
UPDATE employee SET Dept_ID = 504 WHERE Emp_ID IN (59, 60);
-- CHECK 5 DAYS ATTENDANCE
SELECT e.Emp_ID,e.Name,SUM(a.STATUS = 'PRESENT') AS Days_Present,
SUM(a.STATUS = 'ABSENT') AS Days_Absent FROM employee e
JOIN attendance as a ON e.Emp_ID = a.Emp_ID
WHERE MONTH(a.Att_Date) = 8 AND YEAR(a.Att_Date) = 2025
GROUP BY e.Emp_ID, e.Name;
